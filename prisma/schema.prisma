// prisma/schema.prisma

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  name       String
  email      String   @unique
  password   String
  phoneNumber String 
  firstName        String
  middleName       String?
  lastName         String?
  referrer         String?
  kycID            String?
  falconId         String?
  verifiedPhone    Boolean?
  panDocNo         String?
  bankId           String?
  bankAccountNumber String?
  bankIFSC         String?
  productId        String?
  vpan             String?
  instrumentId     String?
  inProfile        Boolean?
  isMinor          Boolean?
  parentId         Int
  role       Role?
  posts      Post[]
}

model Post {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  slug      String
  title     String
  author    User      @relation(fields: [authorId], references: [id])
  authorId  String   @db.ObjectId
}

enum Role {
  USER
  ADMIN
}
